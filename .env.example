# =============================
# RÉSEAU & DOMAINE
# =============================
COMPOSE_PROJECT_NAME=le-cabinet
STACK_NETWORK=cabinet_net

TRAEFIK_DOMAIN=example.localhost
TRAEFIK_HTTP_PORT=80
TRAEFIK_API_PORT=8085

PUBLIC_BASE_URL=https://example.com
CORS_ORIGINS=https://example.com,http://localhost:5173

# =============================
# PORTS LOCAUX
# =============================
POSTGRES_PORT=5432

KAFKA_PLAINTEXT_PORT=9092
KAFKA_CONTROLLER_PORT=9093
KAFKA_UI_PORT=8082

REGISTRY_HTTP_PORT=8080
RULES_HTTP_PORT=8081

# =============================
# POSTGRES
# =============================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme
POSTGRES_DB=postgres

JEU_DB=jeu
JEU_DB_USER=jeu
JEU_DB_PASSWORD=changeme

# =============================
# KAFKA (KRaft – single broker)
# =============================
KAFKA_BROKER_ID=1
KAFKA_CLUSTER_ID=CHANGE_ME_22_CHARS_ID
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1
KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1
KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1
KAFKA_AUTO_CREATE_TOPICS_ENABLE=false

# =============================
# APICURIO / REGISTRY
# =============================
REGISTRY_LOG_LEVEL=INFO

# =============================
# KAFKA UI (optionnel)
# =============================
KAFKA_UI_USERNAME=admin
KAFKA_UI_PASSWORD=changeme

# =============================
# TRAEFIK — Hosts
# =============================
TRAEFIK_HOST_KAFKA_UI=kafka.${TRAEFIK_DOMAIN}
TRAEFIK_HOST_REGISTRY=registry.${TRAEFIK_DOMAIN}
TRAEFIK_HOST_RULES=rules.${TRAEFIK_DOMAIN}

# =============================
# TOPICS KAFKA (init / scripts)
# =============================
TOPICS=example.topic_one,example.topic_two

# =============================
# LOBBY / MÉTIER
# =============================
LOBBY_PERSISTENCE_BACKEND=postgres   # postgres | memory
LOBBY_ID_MODE=uuid                   # uuid | sequential
LOBBY_KAFKA_ACTIF=true

# =============================
# BRE / RULES ENGINE
# =============================
CAB_RULES_BRE_URL=http://rules-service:8081
