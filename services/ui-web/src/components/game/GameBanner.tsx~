// src/components/game/GameBanner.tsx

import React from "react";
import type { EtatPartieVue } from "../../types/game";

interface Props {
  etat: EtatPartieVue;
  onQuitter?: () => void;    // callback optionnelle
}

export default function GameBanner({ etat, onQuitter }: Props) {
  const { termine, raison_fin, phase, sous_phase, tour } = etat;

  if (termine) {
    return (
      <div className="w-full bg-red-700 text-white p-3 shadow-md mb-4">
        <div className="font-bold text-lg">Partie termin√©e</div>
        {raison_fin && (
          <div className="mt-1 italic">Raison : {raison_fin}</div>
        )}

        {onQuitter && (
          <button
            onClick={onQuitter}
            className="mt-3 px-4 py-2 bg-white text-red-700 rounded shadow"
          >
            Retour au lobby
          </button>
        )}
      </div>
    );
  }

  // Partie en cours
  return (
    <div className="w-full bg-blue-700 text-white p-3 shadow-md mb-4">
      <div className="font-bold">
        Phase : {phase} {sous_phase && ` / ${sous_phase}`}
      </div>
      <div className="text-sm">
        Tour : {tour ?? "-"}
      </div>
    </div>
  );
}
