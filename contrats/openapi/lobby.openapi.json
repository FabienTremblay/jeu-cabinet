{"openapi":"3.1.0","info":{"title":"Service Lobby","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/joueurs":{"post":{"summary":"Inscription","operationId":"inscription_api_joueurs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeInscription"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseInscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sessions":{"post":{"summary":"Connexion","operationId":"connexion_api_sessions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeConnexion"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseConnexion"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/joueurs/lobby":{"get":{"summary":"Lister Joueurs Lobby","operationId":"lister_joueurs_lobby_api_joueurs_lobby_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseListeJoueursLobby"}}}}}}},"/api/joueurs/{id_joueur}/contexte":{"get":{"summary":"Contexte Reprise","operationId":"contexte_reprise_api_joueurs__id_joueur__contexte_get","parameters":[{"name":"id_joueur","in":"path","required":true,"schema":{"type":"string","title":"Id Joueur"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseContexteReprise"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables":{"post":{"summary":"Creer Table","operationId":"creer_table_api_tables_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeCreationTable"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseTable"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Lister Tables","operationId":"lister_tables_api_tables_get","parameters":[{"name":"statut","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Statut"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseListeTables"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{id_table}/joueurs":{"get":{"summary":"Lister Joueurs Table","operationId":"lister_joueurs_table_api_tables__id_table__joueurs_get","parameters":[{"name":"id_table","in":"path","required":true,"schema":{"type":"string","title":"Id Table"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseListeJoueursTable"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Joindre Table","operationId":"joindre_table_api_tables__id_table__joueurs_post","parameters":[{"name":"id_table","in":"path","required":true,"schema":{"type":"string","title":"Id Table"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandePriseSiege"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseJoueurSiege"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{id_table}/joueurs/pret":{"post":{"summary":"Joueur Pret","operationId":"joueur_pret_api_tables__id_table__joueurs_pret_post","parameters":[{"name":"id_table","in":"path","required":true,"schema":{"type":"string","title":"Id Table"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeJoueurPret"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseTable"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/parties/{id_partie}/joueurs/quitter":{"post":{"summary":"Quitter Partie","operationId":"quitter_partie_api_parties__id_partie__joueurs_quitter_post","parameters":[{"name":"id_partie","in":"path","required":true,"schema":{"type":"string","title":"Id Partie"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeJoueurPret"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseTable"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{id_table}/joueurs/quitter":{"post":{"summary":"Quitter Table","description":"Permet à un joueur de quitter sa table (retour au lobby).\n\nOn réutilise DemandeJoueurPret qui ne contient que id_joueur.","operationId":"quitter_table_api_tables__id_table__joueurs_quitter_post","parameters":[{"name":"id_table","in":"path","required":true,"schema":{"type":"string","title":"Id Table"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeJoueurPret"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseTable"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{id_table}/terminer":{"post":{"summary":"Terminer Table","description":"Marque une table comme terminée côté lobby.\nTypiquement appelée par un worker de fin de partie.","operationId":"terminer_table_api_tables__id_table__terminer_post","parameters":[{"name":"id_table","in":"path","required":true,"schema":{"type":"string","title":"Id Table"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseTable"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{id_table}/lancer":{"post":{"summary":"Lancer Partie","operationId":"lancer_partie_api_tables__id_table__lancer_post","parameters":[{"name":"id_table","in":"path","required":true,"schema":{"type":"string","title":"Id Table"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DemandeLancerPartie"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponsePartieLancee"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/skins":{"get":{"summary":"Lister Skins","operationId":"lister_skins_api_skins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReponseListeSkins"}}}}}}}},"components":{"schemas":{"DemandeConnexion":{"properties":{"courriel":{"type":"string","format":"email","title":"Courriel"},"mot_de_passe":{"type":"string","title":"Mot De Passe"}},"type":"object","required":["courriel","mot_de_passe"],"title":"DemandeConnexion"},"DemandeCreationTable":{"properties":{"id_hote":{"type":"string","title":"Id Hote"},"nom_table":{"type":"string","title":"Nom Table"},"nb_sieges":{"type":"integer","title":"Nb Sieges"},"mot_de_passe_table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mot De Passe Table"},"skin_jeu":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Skin Jeu"}},"type":"object","required":["id_hote","nom_table","nb_sieges"],"title":"DemandeCreationTable"},"DemandeInscription":{"properties":{"nom":{"type":"string","title":"Nom"},"alias":{"type":"string","title":"Alias"},"courriel":{"type":"string","format":"email","title":"Courriel"},"mot_de_passe":{"type":"string","title":"Mot De Passe"}},"type":"object","required":["nom","alias","courriel","mot_de_passe"],"title":"DemandeInscription"},"DemandeJoueurPret":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"}},"type":"object","required":["id_joueur"],"title":"DemandeJoueurPret"},"DemandeLancerPartie":{"properties":{"id_hote":{"type":"string","title":"Id Hote"}},"type":"object","required":["id_hote"],"title":"DemandeLancerPartie"},"DemandePriseSiege":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"},"role":{"type":"string","enum":["hote","invite"],"title":"Role","default":"invite"}},"type":"object","required":["id_joueur"],"title":"DemandePriseSiege","description":"Demande pour prendre un siège à une table.\nUtilisée par l'API: POST /api/tables/{id_table}/joueurs"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ReponseConnexion":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"},"nom":{"type":"string","title":"Nom"},"alias":{"type":"string","title":"Alias"},"courriel":{"type":"string","format":"email","title":"Courriel"},"jeton_session":{"type":"string","title":"Jeton Session"},"id_table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id Table"},"id_partie":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id Partie"},"statut_table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Statut Table"},"skin_jeu":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Skin Jeu"}},"type":"object","required":["id_joueur","nom","alias","courriel","jeton_session"],"title":"ReponseConnexion"},"ReponseContexteReprise":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"},"id_table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id Table"},"id_partie":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id Partie"},"statut_table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Statut Table"},"skin_jeu":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Skin Jeu"}},"type":"object","required":["id_joueur"],"title":"ReponseContexteReprise","description":"Contexte minimal permettant au front de reprendre une partie si le joueur\nest déjà impliqué dans une table active."},"ReponseInscription":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"},"nom":{"type":"string","title":"Nom"},"alias":{"type":"string","title":"Alias"},"courriel":{"type":"string","format":"email","title":"Courriel"}},"type":"object","required":["id_joueur","nom","alias","courriel"],"title":"ReponseInscription"},"ReponseJoueur":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"},"nom":{"type":"string","title":"Nom"},"alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alias"},"courriel":{"type":"string","format":"email","title":"Courriel"}},"type":"object","required":["id_joueur","nom","courriel"],"title":"ReponseJoueur"},"ReponseJoueurSiege":{"properties":{"id_table":{"type":"string","title":"Id Table"},"id_joueur":{"type":"string","title":"Id Joueur"},"role":{"type":"string","enum":["hote","invite"],"title":"Role"},"statut_table":{"type":"string","title":"Statut Table"}},"type":"object","required":["id_table","id_joueur","role","statut_table"],"title":"ReponseJoueurSiege"},"ReponseJoueurTable":{"properties":{"id_joueur":{"type":"string","title":"Id Joueur"},"nom":{"type":"string","title":"Nom"},"alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alias"},"courriel":{"type":"string","format":"email","title":"Courriel"},"role":{"type":"string","enum":["hote","invite"],"title":"Role"},"pret":{"type":"boolean","title":"Pret"}},"type":"object","required":["id_joueur","nom","courriel","role","pret"],"title":"ReponseJoueurTable"},"ReponseListeJoueursLobby":{"properties":{"joueurs":{"items":{"$ref":"#/components/schemas/ReponseJoueur"},"type":"array","title":"Joueurs"}},"type":"object","required":["joueurs"],"title":"ReponseListeJoueursLobby"},"ReponseListeJoueursTable":{"properties":{"id_table":{"type":"string","title":"Id Table"},"joueurs":{"items":{"$ref":"#/components/schemas/ReponseJoueurTable"},"type":"array","title":"Joueurs"}},"type":"object","required":["id_table","joueurs"],"title":"ReponseListeJoueursTable"},"ReponseListeSkins":{"properties":{"skins":{"items":{"$ref":"#/components/schemas/SkinInfo"},"type":"array","title":"Skins"}},"type":"object","required":["skins"],"title":"ReponseListeSkins"},"ReponseListeTables":{"properties":{"tables":{"items":{"$ref":"#/components/schemas/ReponseTable"},"type":"array","title":"Tables"}},"type":"object","required":["tables"],"title":"ReponseListeTables"},"ReponsePartieLancee":{"properties":{"id_partie":{"type":"string","title":"Id Partie"}},"type":"object","required":["id_partie"],"title":"ReponsePartieLancee"},"ReponseTable":{"properties":{"id_table":{"type":"string","title":"Id Table"},"nom_table":{"type":"string","title":"Nom Table"},"nb_sieges":{"type":"integer","title":"Nb Sieges"},"id_hote":{"type":"string","title":"Id Hote"},"statut":{"type":"string","title":"Statut"},"skin_jeu":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Skin Jeu"}},"type":"object","required":["id_table","nom_table","nb_sieges","id_hote","statut"],"title":"ReponseTable"},"SkinInfo":{"properties":{"id_skin":{"type":"string","title":"Id Skin"},"nom":{"type":"string","title":"Nom"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["id_skin","nom"],"title":"SkinInfo"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}